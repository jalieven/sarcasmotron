<link rel="import" href="./components/core-scroll-header-panel/core-scroll-header-panel.html">
<link rel="import" href="./components/core-toolbar/core-toolbar.html">
<link rel="import" href="./components/core-tooltip/core-tooltip.html">
<link rel="import" href="./components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="./components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="./components/paper-shadow/paper-shadow.html">
<link rel="import" href="sarcasm-stream.html">

<polymer-element name="sarcasmotron-app">
    <template>
        <style>
            core-scroll-header-panel {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
            }
            core-toolbar {
                color: #f1f1f1;
                fill: #f1f1f1;
                background-color: transparent;
            }
            /* background for toolbar when it is at its full size */
            core-scroll-header-panel::shadow #headerBg {
                background-image: url(images/header-background-01.jpg);
            }

            /* background for toolbar when it is condensed */
            core-scroll-header-panel::shadow #condensedHeaderBg {
                background-color: #216c89;
                /*background-color: #72bed6;*/
                /*background-color: #36353a;*/
                /*background-color: #d9e2dd;*/
                /*background-color: #bd3c37;*/
            }
            .content {
                width: 80%;
                margin: 50px auto;
            }
            @media (min-width: 481px) {
                .content {
                    width: 400px;
                }
            }
            #button-bar {
                width: 100%;
            }

        </style>

        <style shim-shadowdom>
            core-tooltip.fancy::shadow .core-tooltip {
                opacity: 0;
                -webkit-transition: all 300ms cubic-bezier(1.92,0,.99,1.07);
                transition: all 300ms cubic-bezier(0,1.92,.99,1.07);
                -webkit-transform: translate3d(0, -10px, 0);
                transform: translate3d(0, -10px, 0);
            }

            core-tooltip.fancy:hover::shadow .core-tooltip,
            core-tooltip.fancy:focus::shadow .core-tooltip {
                opacity: 1;
                -webkit-transform: translate3d(0, 0, 0);
                transform: translate3d(0, 0, 0);
            }
        </style>

        <core-scroll-header-panel condenses keepCondensedHeader>

            <core-toolbar class="tall">
                <!--<div class="bottom title">Sarcasmotron</div>-->
                <div id="button-bar" class="bottom" layout horizontal>
                    <core-tooltip label="Stream" position="bottom" class="fancy">
                        <paper-icon-button id="stream" icon="view-stream"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <core-tooltip label="New sarcasm" position="bottom" class="fancy">
                        <paper-icon-button id="new" icon="drive-file"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <core-tooltip label="Statistics" position="bottom" class="fancy">
                        <paper-icon-button id="stats" icon="drive-chart"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <core-tooltip label="Who's trending" position="bottom" class="fancy">
                        <paper-icon-button id="trend" icon="trending-up"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <core-tooltip label="Your favorites" position="bottom" class="fancy">
                        <paper-icon-button id="favorite" icon="favorite"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <div flex></div>
                    <core-tooltip label="Search 'em!" position="bottom" class="fancy">
                        <paper-icon-button class="bottom ident" id="search" icon="search"
                                           onclick="changeSection(this.id);"></paper-icon-button>
                    </core-tooltip>
                    <paper-icon-button id="more" icon="more-vert"></paper-icon-button>
                </div>
                <paper-shadow z="1"/>
            </core-toolbar>

            <div class="content">

                <core-animated-pages selected="{{section}}" transitions="slide-up cross-fade" valueattr="id">
                    <section id="stream-section">
                        <sarcasm-stream show="all" cross-fade></sarcasm-stream>
                    </section>
                    <section id="new-section">
                        <div><p>New Sarcasm</p></div>
                    </section>
                    <section id="stats-section">
                        <div><p>Statistics</p></div>
                    </section>
                    <section id="trend-section">
                        <div><p>Trending</p></div>
                    </section>
                    <section id="favorite-section">
                        <div cross-fade><p>Favorites</p></div>
                    </section>
                </core-animated-pages>

            </div>

        </core-scroll-header-panel>

    </template>
    <script>
        Polymer({
            ready: function () {
                this.section = 'stream-section';
            },
            pageChanged: function () {
                this.async(function () {
                    this.$.headerPanel.measureHeaderHeight();
                });
            }
        });
    </script>
</polymer-element>